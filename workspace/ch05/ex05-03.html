<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>쇼핑 목록</title>

    <script>
      // HTML 문서 로딩 완료(DOM 객체 생성 완료) 후에 발생하는 이벤트
      document.addEventListener("DOMContentLoaded", function () {
        // 첫번째 버튼 찾기
        const btn1 = document.querySelector("div > button");
        const btn2 = btn1.nextElementSibling;
        const btn3 = btn2.nextElementSibling;

        // btn1-이벤트 등록 방법 1: elem.on<event> 속성에 이벤트 핸들러 추가
        btn1.onclick = function () {
          const movies = document.querySelector("#movies");
          const firstLi = movies.firstElementChild;
          const secondLi = firstLi.nextElementSibling;

          //방법1
          //console.log(secondLi.firstChild.nodeValue);

          //방법2
          // textContent: 요소노드의 내부 텍스트 노드의 문자열 값을 가지고 있는 속성
          console.log(secondLi.textContent);
        };

        // btn2-마지막에 우유 추가
        function addMilk() {
          console.log("우유 추가 예정");
          const shoppingList = document.getElementById("purchases");
          // innerHTMl: 요소노드의 내부 HTMl 코드값을 문자열로 가지고 있는 속성
          console.log(shoppingList.innerHTML);
          // outerHTML: 요소노드의 내부 HTML 코드값을 문자열로 가지고 있는 속성(자신 포함)
          console.log(shoppingList.outerHTML);

          shoppingList.innerHTML += "<li>우유</li>";
        }

        // btn3-이벤트 등록 방법 3: addEventListener()
        btn3.addEventListener("click", function () {
          const targetList = document.querySelectorAll(".list");
          for (let i = 0; i < targetList.length; i++) {
            const firstLi = targetList[i].firstElementChild;

            //해당 노드 삭제
            firstLi.remove();

            // console.log(targetList[i].innerHTMl);
          }
        });
      });
    </script>
  </head>
  <body>
    <h1>쇼핑 목록</h1>

    <div>
      <button type="button">두번째 영화 찾기</button>
      <button type="button" onclick="addMilk()">마지막에 우유 추가</button>
      <button type="button">첫번째 항목 삭제</button>
    </div>

    <p>마트에서 사야하는 목록</p>
    <ul id="purchases" class="list">
      <li>두부</li>
      <li>계란</li>
      <li>라면</li>
    </ul>

    <p>보고싶은 영화 목록</p>
    <ul id="movies" class="list">
      <li>어벤저스</li>
      <li>다크나이트</li>
      <li>미션임파서블</li>
    </ul>
  </body>
</html>
